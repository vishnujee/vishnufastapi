<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <link rel="profile" href="https://gmpg.org/xfn/11">

  <!-- Primary Meta Tags -->
  <title>RecallMind - AI PDF Editor | Smart Chatbot for Documents | Free Online Tool</title>
  <meta name="description"
    content="Free AI-powered PDF editor with chatbot assistance.Compress,Merge,Split, Edit, convert & process documents online. No installation needed. Supports PDF, Word, Excel & more.">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

  <!-- Canonical & Alternate URLs -->
  <link rel="canonical" href="https://recallmind.online/" />
  <link rel="alternate" hreflang="x-default" href="https://recallmind.online/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
  <link rel="apple-touch-icon" href="/static/apple-touch-icon.png">
  <meta name="msapplication-TileImage" content="/static/apple-touch-icon.png">

  <!-- Open Graph / Facebook / LinkedIn -->
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="RecallMind - Free AI PDF Editor with Chatbot Assistance" />
  <meta property="og:description"
    content="Compress, Merge, Split, Delete,PDF2Word-Excel, Edit, convert & process documents with AI. Our smart PDF editor works in your browser with no installation required." />
  <meta property="og:url" content="https://recallmind.online/" />
  <meta property="og:site_name" content="RecallMind" />
  <meta property="og:updated_time" content="2025-07-09T00:00:00+05:30" />

  <!-- Image Optimization -->
  <meta property="og:image" content="https://mygenfile25.s3.ap-south-1.amazonaws.com/pdfeditor/pdfeditmetatag.png" />
  <meta property="og:image:secure_url"
    content="https://mygenfile25.s3.ap-south-1.amazonaws.com/pdfeditor/pdfeditmetatag.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="RecallMind AI PDF Editor showing document editing interface" />
  <meta property="og:image:type" content="image/png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@RecallMindAI" />
  <meta name="twitter:creator" content="@RecallMindAI" />
  <meta name="twitter:title" content="Free AI PDF Editor with Chatbot - RecallMind" />
  <meta name="twitter:description"
    content="Compress, Merge,Split,PDF2WORD_EXCEL, Edit & convert documents instantly with AI. No watermarks, no registration required." />
  <meta name="twitter:image" content="https://mygenfile25.s3.ap-south-1.amazonaws.com/pdfeditor/pdfeditmetatag.png" />
  <meta name="twitter:image:alt" content="Screenshot of RecallMind document editor interface" />

  <!-- App Links & Mobile Optimization -->
  <meta property="al:web:url" content="https://recallmind.online/" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="RecallMind PDF">

  <!-- SEO Enhancement -->
  <meta name="keywords"
    content="free PDF editor, AI document editor, online PDF converter, chatbot for documents, edit PDF online, PDF to Word, Excel editor, no watermark PDF tool">
  <meta name="author" content="RecallMind">
  <meta name="copyright" content="Copyright ¬© 2025 RecallMind">
  <meta name="application-name" content="RecallMind PDF Editor">
  <meta name="theme-color" content="#4285f4">
  <meta name="msapplication-TileColor" content="#4285f4">
  <meta name="msapplication-config" content="/browserconfig.xml">



  <!--  for chat -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script> -->
  <script src="/static/js/pdflibra/marked.min.js" defer></script>



  <!-- Tailwind CSS CDN crtical css urgetly required-->
  <!-- <script src="https://cdn.tailwindcss.com"></script> -->

  <link rel="stylesheet" href="/static/css/tailwind.min.css">



  <!-- Font Awesome for icons -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> -->
  <link rel="stylesheet" href="/static/css/all.min.css">



  <!--  Local files -->

  <link href="/static/css/styles.css" rel="stylesheet">
  <script src="/static/js/script.js" defer></script>
  <script src="/static/js/deletepage.js" defer></script>
  <script src="/static/js/newscript.js" defer></script>
  <script src="/static/js/memscript.js" defer></script>

  <!-- Structured Data for SEO -->
  <script type="application/ld+json">

    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "RecallMind PDF Editor",
      "url": "https://recallmind.online/",
      "description": "AI-powered online PDF editor with chatbot assistance",
      "applicationCategory": "DocumentEditor",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>


  <style>
    canvas {
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
    }

    .animate-spin {
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }


    .merge-progress {
      transition: all 0.3s ease;
    }

    .file-loading {
      opacity: 0.7;
      background-color: #f0f8ff;
    }

    /* merge css */


    .file-item {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      padding: 8px 10px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      margin-bottom: 8px;
      background-color: white;
      max-width: 300px;
      text-align: center;


    }

    .file-item span {
      flex: 1;
      margin-right: 12px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      width: 100%;

    }

    .file-item .move-buttons {
      display: flex;
      gap: 6px;
    }



    .file-item button {
      padding: 6px 10px;
      min-width: 40px;
    }

    /* Mobile responsiveness */
    @media (max-width: 640px) {
      .file-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }

      .file-item span {
        margin-right: 0;
        width: 100%;
        max-width: 300px;
      }

      .file-item .move-buttons {
        align-self: flex-end;
      }
    }


    /*  COMPRESS CSS */
    /* Progress bar animations */
    .progress-bar-transition {
      transition: width 0.3s ease-in-out;
    }

    /* Pulse animation for active computation */
    .pulse-computing {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }

      100% {
        opacity: 1;
      }
    }

    /* Smooth progress bar */
    .smooth-progress {
      background: linear-gradient(90deg, #3b82f6, #60a5fa, #3b82f6);
      background-size: 200% 100%;
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% {
        background-position: -200% 0;
      }

      100% {
        background-position: 200% 0;
      }
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">
  <!-- Navigation Bar -->
  <nav class="bg-white shadow-lg sticky top-0 z-10">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center py-4" style="padding-top: 5px; ">
        <div class="flex items-center space-x-4 py-0">
          <!-- <a href="/" class="text-2xl font-bold text-blue-600 hover:text-green-600"> VishnuDesk </a> -->
          <a href="#chat" class="text-2xl font-bold text-blue-600 hover:text-green-600" style="margin-top: 0px;"
            onclick="showTool('chat-section')">Homepage</a>
        </div>
        <div class="hidden md:flex items-center space-x-8">

          <a href="https://filestoragep2p.azurewebsites.net/blogposts"
            class="nav-link text-xl text-gray-700 hover:text-green-600">Blogs</a>
          <a href="https://filestoragep2p.azurewebsites.net/"
            class="nav-link text-xl text-gray-700 hover:text-green-600">P2P File Transfer</a>

          <a href="#chat" class="nav-link text-xl text-gray-700 hover:text-green-600" style="margin-top: 0px;"
            onclick="showTool('chat-section')">AI Chat</a>
          <div class="dropdown relative">
            <button class="nav-link text-xl text-gray-700 hover:text-green-600 flex items-center"> PDF Tools <i
                class="fas fa-chevron-down ml-1 text-xs"></i>
            </button>
            <div class="dropdown-content bg-white shadow-lg rounded-md mt-2 py-2 w-48">
              <a href="#merge" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('merge-section')">Merge PDFs</a>
              <a href="#compress" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('compress-section')">Compress PDF</a>

              <!-- <a href="#insert-pdf" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('insertPdf-section')">Organise PDF- Add, Delete & Reorder Pages</a> -->
              <a href="#insert-pdf" class="block px-4 py-0 text-gray-700 hover:bg-gray-100"
                style="text-decoration: underline; text-decoration-color: rgb(70, 233, 6); text-decoration-thickness: 3px;"
                onclick="showTool('insertPdf-section')">
                Organise PDF- Add, Delete & Reorder Pages
              </a>



              <a href="#pdf-to-images" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('pdfToImages-section')">PDF to Images</a>
              <a href="#split" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('split-section')">Split PDF</a>
              <a href="#delete-pages" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('deletePages-section')">Delete Pages</a>
              <a href="#pdf-to-word" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('pdfToWord-section')">PDF to Word</a>
              <a href="#pdf-to-excel" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('pdfToExcel-section')">PDF to Excel</a>
              <a href="#pdf-to-ppt" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('pdfToPpt-section')">PDF to PPT</a>
              <a href="#multiple-image-to-pdf" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('multipleImageToPdf-section')">Images to PDF</a>

              <a href="#reorder" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('reorder-section')">Reorder Pages</a>
              <a href="#pageNumbers" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('pageNumbers-section')">Add Page Numbers</a>
              <a href="#signature" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('signature-section')">Add Signature</a>
              <a href="#rotate-pages" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('rotatePages-section')">Rotate Pages</a>
              <a href="#encrypt" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('encrypt-section')">Add Password to PDF</a>
              <a href="#remove-password" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('removePassword-section')">Remove Password</a>


              <a href="#remove-background" class="block px-4 py-1 text-gray-700 hover:bg-gray-100"
                onclick="showTool('removeBackground-section')">Remove Image Background</a>
            </div>
          </div>
          <!-- <a href="#videos" class="nav-link text-xl text-gray-700 hover:text-green-600"
                        onclick="showTool('videos-section')">Videos</a> -->
          <a href="#" class="nav-link text-xl text-gray-700 hover:text-green-600"
            onclick="window.location.href='/static/videos.html'"> Videos </a>
        </div>
        <!-- Larger version -->
        <button class="md:hidden text-gray-900 p-3" id="mobile-menu-button">
          <i class="fas fa-bars text-3xl"></i>
        </button>
      </div>
      <!-- Mobile menu -->
      <div class="md:hidden hidden bg-white py-0 px-4" id="mobile-menu" style="margin-top: -25px;">
        <a href="https://filestoragep2p.azurewebsites.net/blogposts"
          class="nav-link text-xl text-gray-700 hover:text-green-600">Blogs</a>
        <br> <a href="https://filestoragep2p.azurewebsites.net/"
          class="nav-link text-xl text-gray-700 hover:text-green-600" style="line-height: 2.5rem;">P2P File Transfer</a>
        <br><a href="#chat" class="block py-0 text-xl text-gray-700 hover:text-green-600" style="margin-bottom: 0px;"
          onclick="showTool('chat-section')">AI Chat</a>
        <div class="py-2">
          <button class="flex items-center text-lg justify-between w-full text-gray-700 hover:text-green-600"
            onclick="toggleMobileSubmenu()"> PDF Tools <i class="fas fa-chevron-down ml-1 text-xs"></i>
          </button>
          <div class="hidden bg-gray-50 pl-0 mt-1" id="mobile-submenu">
            <a href="#merge" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('merge-section')">Merge PDFs</a>
            <a href="#compress" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('compress-section')">Compress PDF</a>
            <!-- <a href="#insert-pdf" class="block  py-1 text-gray-700 hover:bg-gray-100"
              onclick="showTool('insertPdf-section')">Organise PDF- Add, Delete & Reorder Pages</a> -->

            <a href="#insert-pdf" class="block py-0 text-gray-700 hover:bg-gray-100"
              style="text-decoration: underline; text-decoration-color: rgb(70, 233, 6); text-decoration-thickness: 3px;"
              onclick="showTool('insertPdf-section')">
              Organise PDF- Add, Delete & Reorder Pages
            </a>


            <a href="#pdf-to-images" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('pdfToImages-section')">PDF to Images</a>
            <a href="#split" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('split-section')">Split PDF</a>
            <a href="#delete-pages" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('deletePages-section')">Delete Pages</a>
            <a href="#pdf-to-word" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('pdfToWord-section')">PDF to Word</a>
            <a href="#pdf-to-excel" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('pdfToExcel-section')">PDF to Excel</a>
            <a href="#pdf-to-ppt" class="block py-1 text-gray-700 hover:bg-gray-100"
              onclick="showTool('pdfToPpt-section')">PDF to PPT</a>
            <a href="#multiple-image-to-pdf" class="block py-1 text-gray-700 hover:bg-gray-100"
              onclick="showTool('multipleImageToPdf-section')">Images to PDF</a>
            <a href="#reorder" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('reorder-section')">Reorder Pages</a>
            <a href="#pageNumbers" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('pageNumbers-section')">Add Page Numbers</a>
            <a href="#signature" class="block py-1 text-gray-7
                        00 hover:text-green-600" onclick="showTool('signature-section')">Add Signature</a>
            <a href="#rotate-pages" class="block py-1 text-gray-700 hover:bg-gray-100"
              onclick="showTool('rotatePages-section')">Rotate Pages</a>
            <a href="#encrypt" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('encrypt-section')">Add Password to PDF</a>
            <a href="#remove-password" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('removePassword-section')">Remove Password</a>

            <a href="#remove-background" class="block py-1 text-gray-700 hover:text-green-600"
              onclick="showTool('removeBackground-section')">Remove Image Background</a>
          </div>
        </div>
        <!-- <a href="#videos" class="block py-2 text-gray-700 hover:text-green-600"
                    onclick="showTool('videos-section')">Videos</a> -->
        <a href="#" class="nav-link text-xl text-gray-700 hover:text-green-600"
          onclick="window.location.href='/static/videos.html'"> Videos </a>
      </div>
      <div class="grid grid-cols-1 gap-8">

      </div>
  </nav>
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- Hero Section -->
    <div class="text-center mb-0">
      <!-- <h1 class="text-4xl font-bold text-gray-800 mb-4">Vishnu AI & PDF Tools</h1> -->
      <div class="text-center mb-6">
        <div style="
                    background: linear-gradient(135deg, #0f0c29, #302b63, #ff416c);
                    padding: 8px;
                    border-radius: 12px;
                    text-align: center;
                    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
                    margin-bottom: 20px;
                    display: block;
                    width: 7    00px;
                    height: 50px;
                    margin-left: auto;
                    margin-right: auto;
                ">
          <h1 style="
                        color: #fff;
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                        font-size: 25px;
                        font-weight: bold;
                        margin: 0;
                        letter-spacing: 1px;
                        animation: pulse 2s infinite;
                    "> SmartFix PDF Engine </h1>
        </div>
        <style>
          @keyframes pulse {
            0% {
              transform: scale(1);
            }

            50% {
              transform: scale(1.04);
            }

            100% {
              transform: scale(1)
            }
          }
        </style>
        <!-- <p class="text-xl text-gray-600 max-w-3xl mx-auto">All-in-one solution for PDF Editing</p> -->
        <div class="text-center mb-2">
          <h1 class="text-3xl font-bold text-gray-800 mb-2">
            Fastest PDF Editing
            <button onclick="toggleInfo('info2')" class="ml-2 text-green-500 hover:text-green-700">
              <i class="fas fa-info-circle"></i>
            </button>
          </h1>


          <div id="info2" class="hidden mt-3 p-4 bg-green-50 border border-green-200 rounded-lg">
            <p class="text-sm text-green-800" style="text-align: left;"><strong>Super Fast :</strong> <br>Merge PDF,
              Compress PDF, PDF to Image, Split PDF, Delete Pages, PDF to PPT, Image to PDF, Reorder PDF pages, Add page
              Number, Add signature
              <br> <br><strong>Highly Precise and Accurate(bit slow)</strong>: <br> PDF TO WORD, PDF TO EXCEL, ADD
              PASSWORD TO PDF, REMOVE PASSWORD FROM PDF, REMOVE IMAGE BACKGROUND
            </p>
          </div>
        </div>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto mt-4"
          style="color: #e7082d;padding-left: 0px;padding-right: 0px;">
          Loading own LLM model. Coming soon!
        </p>

      </div>
    </div>
    <!-- <h1>System Memory Usage</h1><div class="memory-container"><div class="memory-card"><h2>RAM Usage</h2><div class="progress-container"><div class="progress-bar" id="ram-bar"></div></div><div class="memory-stats" id="ram-stats"></div></div><div class="memory-card"><h2>ROM (Swap) Usage</h2><div class="progress-container"><div class="progress-bar" id="rom-bar"></div></div><div class="memory-stats" id="rom-stats"></div></div></div> -->
    <!-- Chat Section -->
    <div id="chat-section" class="tool-section mb-12">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <!-- <div class="flex items-center mb-4">
          <div class="bg-green-100 p-2 rounded-full mr-3">
            <i class="fas fa-robot text-green-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Vishnu AI Assistant</h2>
        </div> -->

        <div class="flex justify-between items-center mb-4">
          <div class="flex items-center">
            <div class="bg-green-100 p-2 rounded-full mr-3">
              <i class="fas fa-robot text-green-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Vishnu AI Assistant</h2>
          </div>

        </div>
        <!-- Click to Expand Text -->
        <div class="flex justify-center gap-3 flex-nowrap mt-6 py-2">
          <div onclick="toggleText()" style="
              display: flex;
              align-items: left;
              gap: 0.3rem;
              padding: 0.3rem 0.8rem;
              background: rgb(255, 255, 255);
              border-radius: 8px;
              animation: glow1 2s ease-in-out infinite alternate;
              white-space: nowrap;
              flex-shrink: 0;
              margin-top: -30px;
              margin-bottom: 5px;
              cursor: pointer;
              transition: all 0.3s ease;
          ">
            <i class="fas fa-bolt" style="
          font-size: 0.9rem;
          color: #920bec;
          padding-top: 5px;
          padding-bottom: 1px;
          animation: iconGlow1 1.5s ease-in-out infinite alternate;
      "></i>
            <span style="
                font-size: 0.8rem;
                font-weight: 600;
                color: #e7082d;
                text-shadow: 0 0 10px #00f7ff;
                padding-top: 1px;
                padding-bottom: 1px;
            ">Lightning Fast Now: <span id="hideMePart">Click Me</span></span>
          </div>
        </div>

        <!-- Hidden Text that appears on click -->
        <div id="expandableText" style="
              display: none;
              text-align: left;
              margin-top: 10px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.1);
              border-radius: 10px;
              border: 1px solid rgba(0, 247, 255, 0.3);
              color: rgb(8, 8, 8);
              font-size: 0.9rem;
              animation: fadeIn 0.5s ease-in-out;
            ">
          <p>üöÄ Chat response time improved for Vishnu mode‚Äî <br> </p>
          <p style="margin-left: 25px;">previously it was 8 seconds, and now it's reduced to just 2-3 seconds</p>
          <p>üí° Ask more details about Vishnu</p>
          <p>‚ú® New Feature: Added Tone Selector with multiple unique modes, something even ChatGPT
            doesn‚Äôt have!</p>
          <!-- <p>üîí chats and Files are never stored on servers.</p> -->
        </div>

        <style>
          /* Simple Glow Animations */
          @keyframes glow1 {
            0% {
              box-shadow: 0 0 3px #00f7ff,
                inset 0 0 3px #00f7ff;
              transform: scale(1);
            }

            100% {
              box-shadow: 0 0 15px #00f7ff,
                0 0 20px #ff00cc,
                inset 0 0 8px #00f7ff;
              transform: scale(1.03);
            }
          }

          @keyframes glow2 {
            0% {
              box-shadow: 0 0 3px #00f7ff,
                inset 0 0 3px #00f7ff;
              transform: scale(1);
            }

            100% {
              box-shadow: 0 0 15px #00f7ff,
                0 0 20px #ff00cc,
                inset 0 0 8px #00f7ff;
              transform: scale(1.03);
            }
          }

          @keyframes glow3 {
            0% {
              box-shadow: 0 0 3px #00f7ff,
                inset 0 0 3px #00f7ff;
              transform: scale(1);
            }

            100% {
              box-shadow: 0 0 15px #00f7ff,
                0 0 20px #ff00cc,
                inset 0 0 8px #00f7ff;
              transform: scale(1.03);
            }
          }

          @keyframes iconGlow1 {
            0% {
              text-shadow: 0 0 3px #00f7ff;
              transform: scale(1);
            }

            100% {
              text-shadow: 0 0 10px #ff00cc;
              transform: scale(1.1);
            }
          }

          @keyframes iconGlow2 {
            0% {
              text-shadow: 0 0 3px #00f7ff;
              transform: scale(1);
            }

            100% {
              text-shadow: 0 0 10px #ff00cc;
              transform: scale(1.1);
            }
          }

          @keyframes iconGlow3 {
            0% {
              text-shadow: 0 0 3px #00f7ff;
              transform: scale(1);
            }

            100% {
              text-shadow: 0 0 10px #ff00cc;
              transform: scale(1.1);
            }
          }

          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(-10px);
            }

            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        </style>

        <script>
          function toggleText() {
            const textDiv = document.getElementById('expandableText');
            const hideMeSpan = document.getElementById('hideMePart');

            if (textDiv.style.display === 'none' || textDiv.style.display === '') {
              textDiv.style.display = 'block';
              hideMeSpan.textContent = 'Hide Me';
              hideMeSpan.style.color = '#26E815'; // only "Hide Me" changes color
              hideMeSpan.style.textDecoration = 'underline';
            } else {
              textDiv.style.display = 'none';
              hideMeSpan.textContent = 'Click Me';
              hideMeSpan.style.color = '#e7082d'; // original color
              hideMeSpan.style.textDecoration = 'none';

            }
          }
        </script>


        <div id="tone-selector-section" class="flex items-center mb-4">
          <label class="inline-flex items-center cursor-pointer mr-4">
            <input type="checkbox" id="mode-toggle" class="sr-only peer">
            <div
              class="relative w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full">
            </div>
            <span class="ms-3 text-sm font-medium text-gray-900">Tone Selector <br> <span
                class="text-xs text-gray-500">(Vishnu mode)</span></span>
          </label>

          <select id="mode-select" class="w-44 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
            disabled>
            <option value="" disabled selected>Select Mode</option>
            <option value="general">General Chat üí¨</option>
            <option value="encyclopedia">Encyclopedia Mode üìö</option>
            <option value="creative">Creative Storytelling ‚ú®</option>
            <option value="debate">Balanced Debate ‚öñÔ∏èüó£Ô∏è</option>
            <option value="funny">Humorous Responses üòÇ</option>
            <option value="baby">Baby Mode (Easy) üçº üë∂</option>
            <option value="gate_coach">GATE- CIVIL EXPERT üî¢üéØ</option>

          </select>
        </div>


        <div class="space-y-4">
          <div class="flex flex-col space-y-2"> <!-- Changed to column layout -->
            <textarea id="chatInput" placeholder="Ask me anything about Vishnu..." maxlength="25000" rows="5"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-y min-h-[120px] max-h-[300px]"
              style="font-family: inherit; font-size: inherit;"></textarea>

            <div class="flex justify-between items-center">
              <!-- <span id="charCount" class="text-sm text-gray-500">0/2500 characters</span> -->
              <button onclick="sendChat()"
                class="bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors flex items-center">
                <i class="fas fa-paper-plane mr-2"></i> Send
              </button>
              <!-- <button onclick="clearChatHistory()"
                class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                <i class="fas fa-trash mr-1"></i> Clear Chat
              </button> -->
            </div>
          </div>

          <div class="progress" id="progress-chat">

          </div>
          <div class="progress-text" id="progress-text-chat"
            style="font-family: sans-serif; font-size: 18px; font-weight: bold;"></div>

          <div id="chatOutput" class="text-gray-700 bg-gray-50 p-4 rounded-lg min-h-32"></div>
        </div>




      </div>
    </div>



    <!-- PDF Tools Sections -->
    <div class="text-center my-4" id="clear-all-btn-container" style="display: none;">
      <button onclick="clearAllForms()"
        class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
        <i class="fas fa-broom mr-2"></i> Clear PDF Forms
      </button>
      <p id="operation-msg" class="mt-2 text-sm text-gray-600 italic hidden">
        ‚ö†Ô∏è While performing this operation, please keep this browser tab active.<br>
        It‚Äôs a browser-side, high-efficiency process and will pause if you switch tabs.
      </p>
    </div>

    <!-- Merge PDFs -->
    <div id="merge-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-blue-100 p-2 rounded-full mr-3">
            <i class="fas fa-object-group text-blue-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Merge PDFs</h2>
        </div>
        <form id="mergeForm" class="space-y-4">
          <div>
            <label for="merge-files" class="block text-sm font-medium text-gray-600 mb-1">Select PDF Files</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose Files <input type="file" id="merge-files"
                  name="files" multiple accept=".pdf" required class="hidden">
              </label>
              <span id="merge-files-count" class="ml-3 text-sm text-gray-500">No files selected</span>
            </div>
          </div>
          <div id="file-previews" class="hidden">
            <h3 class="text-lg font-medium text-gray-700 mb-2">File Previews</h3>
            <div id="file-list"></div>
          </div>
          <input type="hidden" id="merge-file-order" name="file_order">
          <div>
            <label for="merge-method" class="block text-sm font-medium text-gray-600 mb-1" style="display: none;">Merge
              Method</label>
            <select id="merge-method" name="method" style="display: none;"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
              <option value="PyPDF2">PyPDF2 (Fast, up to 51 files)</option>
              <option value="Ghostscript">Ghostscript (Slower, up to 30 files)</option>
            </select>
          </div>
          <!-- <button type="button"
            onclick="updateFileOrder(document.querySelectorAll('.file-preview')); processPDF('merge_pdf', 'mergeForm')"
            class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-object-group mr-2"></i> Merge PDFs </button> -->

          <button type="button" id="merge-submit-btn" onclick="mergePDFsClientSide()"
            class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-object-group mr-2"></i> Merge PDFs
          </button>
          <div class="progress" id="progress-mergeForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-mergeForm" style="font-size: 17px;font-weight: bolder;"></div>
          </div>
          <p id="result-mergeForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>
    <!--  compress_pdf section  -->
    <div id="compress-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-purple-100 p-2 rounded-full mr-3">
            <i class="fas fa-compress-alt text-purple-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Compress PDF</h2>
        </div>
        <form id="compressForm" class="space-y-4">
          <div>
            <label for="compress-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File (Max
              160MB)</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="compress-file"
                  name="file" accept=".pdf" required class="hidden" onchange="updateFileSize()">
              </label>
              <span id="compress-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
            <p id="original-file-size" class="text-sm text-gray-600 mt-2">Original File Size: Not selected</p>
          </div>
          <div>
            <label for="compress-preset" class="block text-sm font-medium text-gray-600 mb-1">Compression Level</label>
            <select id="compress-preset" name="preset"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
              onchange="toggleCustomInputs()">
              <option value="High">High Compression (72 DPI, 60% Quality)</option>
              <option value="Medium">Medium Compression (85 DPI, 70% Quality)</option>
              <option value="Low">Low Compression (95 DPI, 80% Quality)</option>
              <option value="ULTRA Low">New Compression (110 DPI, 90% Quality)</option>
              <option value="Custom">Custom</option>
            </select>
          </div>
          <div id="custom-compress-options" class="hidden space-y-4">
            <div>
              <label for="custom_dpi" class="block text-sm font-medium text-gray-600 mb-1">DPI (50-250)</label>
              <input type="range" id="custom_dpi" name="custom_dpi" min="50" max="200" value="100"
                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
              <span id="dpi-value" class="text-sm text-gray-600">100</span>
            </div>
            <div>
              <label for="custom_quality" class="block text-sm font-medium text-gray-600 mb-1">Quality (10-100)</label>
              <input type="range" id="custom_quality" name="custom_quality" min="10" max="100" value="50"
                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
              <span id="quality-value" class="text-sm text-gray-600">50</span>
            </div>
          </div>
          <!-- <div class="flex space-x-4">
            <button type="button" onclick="processPDF('compress_pdf', 'compressForm')"
              class="w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
              <i class="fas fa-compress-alt mr-2"></i> Compress PDF </button>
            <button type="button" onclick="computeAllCompressionSizes()"
              class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
              <i class="fas fa-calculator mr-2"></i> Compute All Compression </button>
          </div> -->
          <!-- In your compress-section, change this line: -->
          <button type="button" onclick="compressPDFClientSide()"
            class="w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-compress-alt mr-2"></i> Compress PDF
          </button>
          <button type="button" onclick="computeAllCompressionSizes()"
            class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-calculator mr-2"></i> Compute All Compression </button>
          <!-- <button onclick="cancelCompression()" class="bg-red-600 text-white px-4 py-2 rounded ml-2">
            <i class="fas fa-times mr-2"></i>Cancel Compression
          </button> -->
          <div class="progress" id="progress-compressForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-compressForm"></div>
          </div>
          <p id="result-compressForm" class="text-sm text-center"></p>
          <div id="compression-results" class="hidden mt-4 p-4 bg-gray-50 rounded-lg">
            <h3 class="text-lg font-medium text-gray-800 mb-2">Estimated Compression Sizes</h3>
            <ul id="compression-sizes" class="text-sm text-gray-600 space-y-1"></ul>
          </div>
          <!-- <div class="progress" id="progress-compressForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-compressForm"></div>
          </div>
          <p id="result-compressForm" class="text-sm text-center"></p> -->
        </form>
      </div>
    </div>
    <!-- Encrypt PDF -->
    <div id="encrypt-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-yellow-100 p-2 rounded-full mr-3">
            <i class="fas fa-lock text-yellow-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Encrypt PDF</h2>
        </div>
        <form id="encryptForm" class="space-y-4">
          <div>
            <label for="encrypt-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="encrypt-file"
                  name="file" accept=".pdf" required class="hidden">
              </label>
              <span id="encrypt-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
          </div>
          <div>
            <label for="encrypt-password" class="block text-sm font-medium text-gray-600 mb-1">Password</label>
            <input type="password" id="encrypt-password" name="password" placeholder="Enter password" required
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
          </div>
          <button type="button" onclick="processPDF('encrypt_pdf', 'encryptForm')"
            class="w-full bg-yellow-600 text-white p-3 rounded-lg hover:bg-yellow-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-lock mr-2"></i> Encrypt PDF </button>
          <!-- Change this line in encrypt-section -->

          <!-- <button type="button" onclick="encryptPDFClientSide()"
          class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
          <i class="fas fa-lock mr-2"></i> Protect PDF 
      </button> -->
          <div class="progress" id="progress-encryptForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-encryptForm"></div>
          </div>
          <p id="result-encryptForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>
    <!-- Convert PDF to Images -->
    <div id="pdfToImages-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-pink-100 p-2 rounded-full mr-3">
            <i class="fas fa-file-image text-pink-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Convert PDF to Images</h2>
        </div>
        <form id="pdfToImagesForm" class="space-y-4">
          <div>
            <label for="pdfToImages-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="pdfToImages-file"
                  name="file" accept=".pdf" required class="hidden">
              </label>
              <span id="pdfToImages-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
          </div>
          <!-- <button type="button" onclick="processPDF('convert_pdf_to_images', 'pdfToImagesForm')"
            class="w-full bg-pink-600 text-white p-3 rounded-lg hover:bg-pink-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-file-image mr-2"></i> Convert to Images </button> -->
          <!-- Change this line in pdfToImages-section -->
          <button type="button" onclick="convertPDFToImagesClientSide()"
            class="w-full bg-pink-600 text-white p-3 rounded-lg hover:bg-pink-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-file-image mr-2"></i> Convert to Images
          </button>
          <div class="progress" id="progress-pdfToImagesForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-pdfToImagesForm"></div>
          </div>
          <p id="result-pdfToImagesForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>
    <!-- Split PDF -->
    <div id="split-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-indigo-100 p-2 rounded-full mr-3">
            <i class="fas fa-cut text-indigo-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Split PDF</h2>
        </div>
        <form id="splitForm" class="space-y-4">
          <div>
            <label for="split-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="split-file"
                  name="file" accept=".pdf" required class="hidden">
              </label>
              <span id="split-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
          </div>
          <!-- <button type="button" onclick="processPDF('split_pdf', 'splitForm')"
            class="w-full bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-cut mr-2"></i> Split PDF </button> -->
          <!-- Change this line in split-section -->
          <button type="button" onclick="splitPDFClientSide()"
            class="w-full bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-cut mr-2"></i> Split PDF
          </button>
          <div class="progress" id="progress-splitForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-splitForm"></div>
          </div>
          <p id="result-splitForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>
    <!-- Delete PDF Pages -->
    <div id="deletePages-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-red-100 p-2 rounded-full mr-3">
            <i class="fas fa-trash-alt text-red-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Delete PDF Pages</h2>
        </div>
        <form id="deletePagesForm" class="space-y-4">
          <div>
            <label for="deletePages-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File </label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File
                <input type="file" id="deletePages-file" name="file" accept=".pdf" required class="hidden"
                  onchange="handleFileSelectForDeletePages()">
              </label>
              <span id="deletePages-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
            <p id="deletePages-total" class="text-sm text-gray-600 mt-2">Total Pages: Not loaded</p>
          </div>

          <!-- New: Selection Method Choice -->
          <div>
            <label for="deletePages-method" class="block text-sm font-medium text-gray-600 mb-1">Select Deletion
              Method</label>
            <select id="deletePages-method" name="delete_method"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"
              onchange="toggleDeleteMethod()">
              <option value="visual">Visual Selection (Click Pages)</option>
              <option value="text">Text Input (Page Numbers)</option>
            </select>
          </div>

          <div class="progress" id="progress-deletePagesForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-deletePagesForm" style="font-size: 17px;font-weight: bolder;">
            </div>
          </div>
          <p id="result-deletePagesForm" class="text-sm text-center"></p>

          <!-- Visual Method Interface -->
          <div id="visual-method-interface" class="hidden">
            <!-- <div class="bg-blue-50 border border-blue-200 rounded-lg mb-0" style="padding-left: 10px;">
              <div class="flex items-center">
                <i class="fas fa-mouse-pointer text-blue-500 mr-2"></i>
                <span class="text-blue-800 font-medium" style="margin-top: 5px;">Visual Selection Method</span>
              </div>
         
              <br>

          
            </div> -->
            <!-- Preview container will be dynamically inserted here -->
            <div id="delete-pages-preview-container"></div>
          </div>

          <!-- Text Method Interface -->
          <div id="text-method-interface" class="hidden">
            <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-4">
              <div class="flex items-center">
                <i class="fas fa-keyboard text-green-500 mr-2"></i>
                <span class="text-green-800 font-medium">Text Input Method</span>
              </div>
              <p class="text-green-700 text-sm mt-1">Enter page numbers manually using comma( , ) and dash ( - ) .</p>
            </div>

            <div class="space-y-4">


              <div id="specific-pages-input">
                <label for="deletePages-specific" class="block text-sm font-medium text-gray-600 mb-1">
                  Pages to Delete (e.g., 1,3,5-10,17)
                </label>
                <input type="text" id="deletePages-specific" name="pages"
                  placeholder="Enter pages or ranges (e.g., 1,3,5-10,17)"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
              </div>

              <!-- Remove or hide the range input since it's no longer needed -->
              <div id="range-pages-input" class="hidden">
                <label for="deletePages-range" class="block text-sm font-medium text-gray-600 mb-1">Page Range (e.g.,
                  10-23)</label>
                <input type="text" id="deletePages-range" name="range" placeholder="Enter range (e.g., 10-23)"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
              </div>


              <button type="button" onclick="processTextBasedDeletion()"
                class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
                <i class="fas fa-trash-alt mr-2"></i> Delete Pages (Text Method)
              </button>
            </div>
          </div>


        </form>
      </div>
    </div>
    <!-- Convert PDF to Word -->
    <div id="pdfToWord-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-blue-100 p-2 rounded-full mr-3">
            <i class="fas fa-file-word text-blue-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Convert PDF to Word</h2>
        </div>
        <div class="mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
          <div class="flex items-start">
            <i class="fas fa-info-circle text-yellow-500 mt-1 mr-2"></i>
            <div>
              <p class="text-m text-yellow-800 font-medium">Note:Please use small PDF file. Will upgrade soon</p>
              <p class="text-s text-yellow-700 mt-1">Recommended: File under 5mb having few pages will give best result
              </p>
            </div>
          </div>
        </div>
        <form id="pdfToWordForm" class="space-y-4">
          <div>
            <label for="pdfToWord-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="pdfToWord-file"
                  name="file" accept=".pdf" required class="hidden">
              </label>
              <span id="pdfToWord-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
          </div>
          <button type="button" onclick="processPDF('convert_pdf_to_word', 'pdfToWordForm')"
            class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-file-word mr-2"></i> Convert to Word </button>
          <div class="progress" id="progress-pdfToWordForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-pdfToWordForm"></div>
          </div>
          <p id="result-pdfToWordForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>

    <!-- Convert PDF to PowerPoint -->
    <div id="pdfToPpt-section" class="tool-section" style="display: none;">
      <h4 style="color: #ab06f8; font-size: larger;"><strong>Note : PDF Doesn‚Äôt Support Teams‚Äô Presentation
          Mode.</strong></h4> <br>
      <h4 style="color: #ab06f8; font-size: larger;margin-top: -26px;"><strong>The reason you are here.</strong></h4>
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">

        <div class="flex items-center mb-4">

          <div class="bg-blue-100 p-2 rounded-full mr-3">

            <i class="fas fa-file-powerpoint text-orange-600 text-xl"></i>
          </div>

          <h2 class="text-2xl font-semibold text-gray-800">Convert PDF to PowerPoint</h2>
        </div>

        <form id="pdfToPptForm" class="space-y-4">
          <div>
            <label for="pdfToPpt-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="pdfToPpt-file"
                  name="file" accept=".pdf" required class="hidden">
              </label>
              <span id="pdfToPpt-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
          </div>
          <div class="conversion-options">
            <div class="flex items-center space-x-4">
              <div class="flex items-center">
                <input type="radio" id="imageBased" name="conversionType" style="display: none;" value="image" checked
                  class="mr-2">
                <label for="imageBased" class="text-sm text-gray-700" style="display: none;">Image-based</label>
              </div>
              <div class="flex items-center" style="display: none;">
                <input type="radio" id="editable" name="conversionType" value="editable" class="mr-2">
                <label for="editable" class="text-sm text-gray-700">Editable</label>
              </div>
            </div>
          </div>

          <button type="button" onclick="convertPDFToPPTClientSide()"
            class="w-full bg-orange-600 text-white p-3 rounded-lg hover:bg-orange-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-file-powerpoint mr-2"></i> Convert to PowerPoint
          </button>

          <!-- <button type="button" onclick="processPDF('convert_pdf_to_ppt', 'pdfToPptForm')"
            class="w-full bg-orange-600 text-white p-3 rounded-lg hover:bg-orange-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-file-powerpoint mr-2"></i> Convert to PowerPoint </button> -->
          <div class="progress" id="progress-pdfToPptForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-pdfToPptForm"></div>
          </div>
          <p id="result-pdfToPptForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>
    <!-- Convert PDF to Excel -->
    <div id="pdfToExcel-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-green-100 p-2 rounded-full mr-3">
            <i class="fas fa-file-excel text-green-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Convert PDF to Excel</h2>
        </div>
        <div class="mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
          <div class="flex items-start">
            <i class="fas fa-info-circle text-yellow-500 mt-1 mr-2"></i>
            <div>
              <p class="text-m text-yellow-800 font-medium">Note:Please use small PDF file. Will upgrade soon</p>
              <p class="text-s text-yellow-700 mt-1">Recommended: File under 5mb having few pages will give best result
              </p>
            </div>
          </div>
        </div>
        <form id="pdfToExcelForm" class="space-y-4">
          <div>
            <label for="pdfToExcel-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="pdfToExcel-file"
                  name="file" accept=".pdf" required class="hidden">
              </label>
              <span id="pdfToExcel-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
          </div>
          <button type="button" onclick="processPDF('convert_pdf_to_excel', 'pdfToExcelForm')"
            class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-file-excel mr-2"></i> Convert to Excel </button>
          <div class="progress" id="progress-pdfToExcelForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-pdfToExcelForm"></div>
          </div>
          <p id="result-pdfToExcelForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>
    <!-- Image to PDF -->
    <!-- Multiple Images to PDF -->
    <div id="multipleImageToPdf-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-teal-100 p-2 rounded-full mr-3">
            <i class="fas fa-images text-teal-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">
            Multiple Images ‚Üí PDF <br>
            <span class="whitespace-nowrap" style="font-size: medium;">Pixel Perfect Conversion üîÆ‚ú®üßô</span>
          </h2>
        </div>
        <form id="multipleImageToPdfForm" enctype="multipart/form-data" class="pdf-form">
          <div class="form-group">
            <label for="multipleImageToPdf-files">Select Images (PNG/JPEG)<span class="required">*</span></label>
            <input type="file" id="multipleImageToPdf-files" name="files" accept="image/png,image/jpeg" multiple
              required>
            <span id="multipleImageToPdf-files-count" class="file-name">No files selected</span>
          </div>

          <div id="image-previews" class="hidden">
            <h3 class="text-lg font-medium text-gray-700 mb-2">Image Previews</h3>
            <div id="image-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
          </div>
          <input type="hidden" id="multipleImageToPdf-image-order" name="image_order">

          <div class="form-group">
            <label for="multiple-image-description">Global Description</label>
            <textarea id="multiple-image-description" name="description"
              placeholder="Enter description for all images (optional)" rows="3"></textarea>
          </div>

          <div class="form-group">
            <label for="multiple-description-position">Description Position<span class="required"></span></label>
            <select id="multiple-description-position" name="description_position" required>
              <option value="bottom-center" selected>Bottom Center</option>
              <option value="top-center">Top Center</option>
              <option value="top">Top</option>
              <option value="top-left">Top Left</option>
              <option value="top-right">Top Right</option>
              <option value="bottom">Bottom</option>
              <option value="bottom-left">Bottom Left</option>
              <option value="bottom-right">Bottom Right</option>
            </select>
          </div>

          <div class="form-group">
            <label for="multiple-description-font-size">Font Size (8-72)<span class="required"></span></label>
            <input type="number" id="multiple-description-font-size" name="description_font_size" min="8" max="72"
              value="20" required>
          </div>

          <div class="form-group">
            <label for="multiple-font-color">Font Color<span class="required"></span></label>
            <input type="color" id="multiple-font-color" name="font_color" value="#000000" required>
          </div>

          <div class="form-group">
            <label for="multiple-font-family">Font Family<span class="required"></span></label>
            <select id="multiple-font-family" name="font_family" required>
              <option value="helvetica">Helvetica</option>
              <option value="times">Times New Roman</option>
              <option value="courier">Courier</option>
              <option value="zapf">Zapf Dingbats</option>
            </select>
          </div>

          <div class="form-group">
            <label for="multiple-font-weight">Font Weight<span class="required"></span></label>
            <select id="multiple-font-weight" name="font_weight" required>
              <option value="normal">Regular</option>
              <option value="bold">Bold</option>
            </select>
          </div>

          <div class="form-group">
            <label for="multiple-page_size">Page Size<span class="required"></span></label>
            <select name="page_size" id="multiple-page_size" required>
              <option value="A4">A4</option>
              <option value="Letter">Letter</option>
            </select>
          </div>

          <div class="form-group">
            <label for="multiple-orientation">Orientation<span class="required"></span></label>
            <select name="orientation" id="multiple-orientation" required>
              <option value="Portrait">Portrait</option>
              <option value="Landscape">Landscape</option>
            </select>
          </div>

          <div class="form-group">
            <label for="image-per-page">Images per Page</label>
            <select id="image-per-page" name="images_per_page">
              <option value="1">One image per page</option>
              <option value="2">Two images per page</option>
              <option value="4">Four images per page</option>
            </select>
            <small class="text-gray-500">Choose how many images to place on each PDF page</small>
          </div>

          <div class="form-actions">
            <button id="imagetopdf" type="button" onclick="convertMultipleImagesToPDFClientSide()"
              class="submit-button">
              Images to PDF
            </button>
          </div>

          <div id="progress-multipleImageToPdfForm" class="progress-container hidden">
            <progress value="0" max="100" aria-label="Conversion progress"></progress>
            <span id="progress-text-multipleImageToPdfForm" class="progress-text"
              style="font-size: 17px;font-weight: bolder;"></span>
          </div>
          <div id="result-multipleImageToPdfForm" class="result-message" role="alert"></div>
        </form>
      </div>
    </div>


    <!-- Remove Password -->
    <div id="removePassword-section" class="tool-section" style="display: none;">
      <div class="bg-white p-6 rounded-xl shadow-md tool-card">
        <div class="flex items-center mb-4">
          <div class="bg-orange-100 p-2 rounded-full mr-3">
            <i class="fas fa-unlock text-orange-600 text-xl"></i>
          </div>
          <h2 class="text-2xl font-semibold text-gray-800">Remove PDF Password</h2>
        </div>
        <form id="removePasswordForm" class="space-y-4">
          <div>
            <label for="removePassword-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF
              File</label>
            <div class="flex items-center">
              <label
                class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file"
                  id="removePassword-file" name="file" accept=".pdf" required class="hidden">
              </label>
              <span id="removePassword-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
            </div>
          </div>
          <div>
            <label for="removePassword-password" class="block text-sm font-medium text-gray-600 mb-1">Password</label>
            <input type="password" id="removePassword-password" name="password" placeholder="Enter password" required
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
          </div>


          <button type="button" onclick="processPDF('remove_pdf_password', 'removePasswordForm')"
            class="w-full bg-orange-600 text-white p-3 rounded-lg hover:bg-orange-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
            <i class="fas fa-unlock mr-2"></i> Remove Password </button>
          <div class="progress" id="progress-removePasswordForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-removePasswordForm"></div>
          </div>
          <p id="result-removePasswordForm" class="text-sm text-center"></p>
        </form>
      </div>
    </div>
    <!-- Reorder Pages -->
    <div class="grid grid-cols-1 gap-8">
      <!-- Other tool  -->
      <div id="reorder-section" class="tool-section" style="display: none;">
        <div class="bg-white p-6 rounded-xl shadow-md tool-card">
          <div class="flex items-center mb-4">
            <div class="bg-blue-100 p-2 rounded-full mr-3">
              <i class="fas fa-sort-numeric-up text-blue-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Reorder PDF Pages</h2>
          </div>
          <form id="reorderForm" class="space-y-4">
            <div>
              <label for="reorder-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="reorder-file"
                    name="file" accept=".pdf" required class="hidden">
                </label>
                <span id="reorder-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>
            </div>
            <!-- progress -->
            <div class="progress" id="progress-reorderForm">
              <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
              <div class="progress-text" id="progress-text-reorderForm" style="font-size: 17px;font-weight: bolder;">
              </div>
            </div>
            <p id="result-reorderForm" class="text-sm text-center"></p>
            <!-- progress -->
            <div id="page-previews" class="hidden">
              <h3 class="text-lg font-medium text-gray-700 mb-2">Page Previews</h3>
              <div id="page-list"></div>
            </div>
            <input type="hidden" id="reorder-page-order" name="page_order">
            <button type="button" id="reorder-submit-btn"
              onclick="updatePageOrder(document.querySelectorAll('.page-preview')); reorderPDFPagesClientSide()"
              class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
              <i class="fas fa-sort-numeric-up mr-2"></i> Reorder and Download
            </button>
            <!-- <div class="progress" id="progress-reorderForm">
              <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
              <div class="progress-text" id="progress-text-reorderForm"></div>
            </div>
            <p id="result-reorderForm" class="text-sm text-center"></p> -->
          </form>
        </div>
      </div>
      <!-- Add Page Numbers -->
      <div id="pageNumbers-section" class="tool-section" style="display: none;">
        <div class="bg-white p-6 rounded-xl shadow-md tool-card">
          <div class="flex items-center mb-4">
            <div class="bg-green-100 p-2 rounded-full mr-3">
              <i class="fas fa-list-ol text-green-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Add Page Numbers</h2>
          </div>
          <form id="pageNumbersForm" class="space-y-4">
            <div>
              <label for="pageNumbers-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File <input type="file" id="pageNumbers-file"
                    name="file" accept=".pdf" required class="hidden">
                </label>
                <span id="pageNumbers-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>
            </div>
            <div>
              <label for="pageNumbers-position" class="block text-sm font-medium text-gray-600 mb-1">Position</label>
              <select id="pageNumbers-position" name="position"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">

                <option value="bottom">Bottom</option>
                <option value="top">Top</option>
              </select>
            </div>
            <div>
              <label for="pageNumbers-alignment" class="block text-sm font-medium text-gray-600 mb-1">Alignment</label>
              <select id="pageNumbers-alignment" name="alignment"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">

                <option value="center">Center</option>
                <option value="right">Right</option>
                <option value="left">Left</option>
              </select>
            </div>
            <div>
              <label for="pageNumbers-format" class="block text-sm font-medium text-gray-600 mb-1">Numbering
                Format</label>
              <select id="pageNumbers-format" name="format"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                <option value="page_x">Page 1, Page 2, ...</option>
                <option value="x">1, 2, 3, ...</option>
              </select>
            </div>

            <!-- In your pageNumbers-section -->
            <button type="button" onclick="addPageNumbersClientSide()"
              class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
              <i class="fas fa-list-ol mr-2"></i> Add Page Numbers
            </button>
            <!-- <button type="button" onclick="processPDF('add_page_numbers', 'pageNumbersForm')"
              class="w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
              <i class="fas fa-list-ol mr-2"></i> Add Page Numbers </button> -->
            <div class="progress" id="progress-pageNumbersForm">
              <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
              <div class="progress-text" id="progress-text-pageNumbersForm"
                style="font-size: 17px;font-weight: bolder;"></div>
            </div>
            <p id="result-pageNumbersForm" class="text-sm text-center"></p>
          </form>
        </div>
      </div>

      <!-- Add Signature -->
      <div id="signature-section" class="tool-section" style="display: none;">
        <div class="bg-white p-6 rounded-xl shadow-md tool-card">
          <div class="flex items-center mb-4">
            <div class="bg-purple-100 p-2 rounded-full mr-3">
              <i class="fas fa-signature text-purple-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Add Signature</h2>
          </div>
          <form id="signatureForm" class="space-y-4">
            <div>
              <label for="signature-pdf-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF
                File</label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose PDF <input type="file"
                    id="signature-pdf-file" name="pdf_file" accept=".pdf" required class="hidden">
                </label>
                <span id="signature-pdf-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>
            </div>
            <div>
              <label for="signature-image-file" class="block text-sm font-medium text-gray-600 mb-1">
                Select Signature Image (PNG or JPEG)
              </label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-image mr-2 text-purple-500"></i> Choose Image <input type="file"
                    id="signature-image-file" name="signature_file" accept=".png,.jpg,.jpeg" required class="hidden">
                </label>
                <span id="signature-image-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>

              <p style="font-size: 12px; padding-left: -10px;margin-left: -18px;">Remove Image Background for best result.Check in PDF Tools.</p>

              <!-- <progress value="0" max="100" class="w-full h-2 rounded-full"></progress> -->
              <div class="progress-text" id="progress-text-signatureForm" style="font-size: 17px;font-weight: bolder;">
              </div>
              <p id="result-signatureForm" class="text-sm text-center" style="margin-left: -14px;"></p>

            </div>
            <div class="flex gap-4" style="margin-left: -13px;">
              <div class="flex-1">
                <label for="signature-size" class="block text-sm font-medium text-gray-600 mb-1">Size</label>
                <select id="signature-size" name="size"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                  <option value="xsmall">Extra Small</option>
                  <option value="small" selected>Small</option>
                  <option value="medium">Medium</option>
                  <option value="large">Large</option>
                  <option value="xlarge">Extra Large</option>
                </select>
              </div>
              <div class="flex-1">
                <label for="signature-position" class="block text-sm font-medium text-gray-600 mb-1">Position</label>
                <select id="signature-position" name="position"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                  <option value="bottom">Bottom</option>
                  <option value="top">Top</option>
                  <option value="center">Center</option>
                </select>
              </div>
              <div class="flex-1">
                <label for="signature-alignment" class="block text-sm font-medium text-gray-600 mb-1">Alignment</label>
                <select id="signature-alignment" name="alignment"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                  <option value="center">Center</option>
                  <option value="left">Left</option>
                  <option value="right">Right</option>
                </select>
              </div>

              <!-- <div class="flex-1" style="margin-left: 30px; margin-top: 25px;">
                <button type="button" onclick="processSignatureClientSide()" id="addsign"
                class="w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
                <i class="fas fa-signature mr-2"></i> Add Signature
              </button>
           
              </div> -->
            </div>
            <!-- <div>
              <label for="signature-size" class="block text-sm font-medium text-gray-600 mb-1">Size</label>
              <select id="signature-size" name="size"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                <option value="xsmall">Extra Small</option>
                <option value="small" selected>Small</option>
                <option value="medium">Medium</option>
                <option value="large">Large</option>
                <option value="xlarge">Extra Large</option>
              </select>
            </div>
            <div>
              <label for="signature-position" class="block text-sm font-medium text-gray-600 mb-1">Position</label>
              <select id="signature-position" name="position"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                <option value="bottom">Bottom</option>
                <option value="top">Top</option>
                <option value="center">Center</option>

              </select>
            </div>
            <div>
              <label for="signature-alignment" class="block text-sm font-medium text-gray-600 mb-1">Alignment</label>
              <select id="signature-alignment" name="alignment"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                <option value="center">Center</option>
                <option value="left">Left</option>
                <option value="right">Right</option>
              </select>
            </div> -->

            <div id="signature-page-previews" class="hidden">
              <div class="flex items-center mb-6">
                <input type="checkbox" id="select-all-pages" class="mr-3 w-6 h-6" style="margin-left: 0px;">
                <label for="select-all-pages" class="text-lg font-medium text-gray-700"
                  style="margin-right: -20px;margin-left: 0px;">
                  Select All Pages <span style="font-size: 15px;">(After 100% loading)</span>
                </label>
              </div>

              <button type="button" onclick="processSignatureClientSide()" id="addsign"
                class="w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
                <i class="fas fa-signature mr-2"></i> Add Signature
              </button>


              <h3 class="text-lg font-medium text-gray-700 mb-2">Page Previews</h3>
              <div id="signature-page-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
            </div>
            <input type="hidden" id="signature-selected-pages" name="specific_pages">

            <!-- <button type="button" onclick="processSignatureClientSide()" id="addsign"
              class="w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
              <i class="fas fa-signature mr-2"></i> Add Signature
            </button> -->

          </form>
        </div>
      </div>

      <!-- Rotate PDF Pages -->
      <div id="rotatePages-section" class="tool-section" style="display: none;">
        <div class="bg-white p-6 rounded-xl shadow-md tool-card">
          <div class="flex items-center mb-4">
            <div class="bg-amber-100 p-2 rounded-full mr-3">
              <i class="fas fa-redo-alt text-amber-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Rotate PDF Pages</h2>
          </div>
          <form id="rotatePagesForm" class="space-y-4">
            <div>
              <label for="rotatePages-file" class="block text-sm font-medium text-gray-600 mb-1">Select PDF File</label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose File
                  <input type="file" id="rotatePages-file" name="file" accept=".pdf" required class="hidden"
                    onchange="handleFileSelectForRotatePages()">
                </label>
                <span id="rotatePages-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>
            </div>

            <!-- Rotation Options -->
            <button type="button" onclick="toggleSelectAllPages()" id="myid"
              class="mb-4 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center">
              <i class="fas fa-check-square mr-2"></i> Select All / Deselect All
            </button>

            <div>
              <label class="block text-xl font-medium text-gray-700 mb-2" style="text-align: center;">Select
                Rotation</label>
              <div class="flex justify-center gap-4 flex-wrap mt-2">
                <button type="button" onclick="setRotationAngle(90)"
                  class="rotate-angle-btn bg-blue-100 border-2 border-blue-300 rounded-lg p-3 hover:bg-blue-200 transition-colors flex flex-col items-center w-28">
                  <i class="fas fa-redo text-blue-600 text-lg mb-1"></i>
                  <div>90¬∞ Right</div>
                </button>

                <button type="button" onclick="setRotationAngle(-90)"
                  class="rotate-angle-btn bg-green-100 border-2 border-green-300 rounded-lg p-3 hover:bg-green-200 transition-colors flex flex-col items-center w-28">
                  <i class="fas fa-undo text-green-600 text-lg mb-1"></i>
                  <div>90¬∞ Left</div>
                </button>

                <button type="button" onclick="setRotationAngle(180)"
                  class="rotate-angle-btn bg-purple-100 border-2 border-purple-300 rounded-lg p-3 hover:bg-purple-200 transition-colors flex flex-col items-center w-28">
                  <i class="fas fa-sync-alt text-purple-600 text-lg mb-1"></i>
                  <div>180¬∞</div>
                </button>


              </div>
              <div class="flex gap-2 mt-4" id="vishnuji" style="display: none;">
                <button id="rotateselpage" type="button" onclick="rotateSelectedPages()"
                  class="vishnu flex-1 bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center">
                  <i class="fas fa-redo-alt mr-2"></i> Rotate Selected Pages
                </button>
                <button type="button" onclick="downloadRotatedPDF()"
                  class="flex-1 bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center">
                  <i class="fas fa-download mr-2"></i> Download PDF
                </button>
              </div>

            </div>

            <!-- Page Previews -->
            <div id="rotate-pages-container">
              <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4" id="infomessage">
                <p class="text-blue-700 text-sm">Upload a PDF to see pages and rotate them.</p>

              </div>
              <div class="progress" id="progress-rotatePagesForm">
                <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
                <div class="progress-text" id="progress-text-rotatePagesForm"
                  style="font-size: 17px;font-weight: bolder;">
                </div>
              </div>
              <p id="result-rotatePagesForm" class="text-m text-center"></p>
              <div id="rotate-pages-preview-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
              </div>

              <div class="flex gap-2 mt-4" id="vishnuji" style="display: none;">
                <button type="button" onclick="rotateSelectedPages()"
                  class="vishnu flex-1 bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center">
                  <i class="fas fa-redo-alt mr-2"></i> Rotate Selected Pages
                </button>
                <button type="button" onclick="downloadRotatedPDF()"
                  class="flex-1 bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center">
                  <i class="fas fa-download mr-2"></i> Download PDF
                </button>
              </div>
            </div>

            <!-- <div class="progress" id="progress-rotatePagesForm">
            <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
            <div class="progress-text" id="progress-text-rotatePagesForm" style="font-size: 17px;font-weight: bolder;">
            </div>
          </div>
          <p id="result-rotatePagesForm" class="text-sm text-center"></p> -->
          </form>
        </div>
      </div>



      <!-- Rotate PDF Pages -->



      <!--  insert page in pdf  -->

      <!-- Insert PDF Section -->
      <div id="insertPdf-section" class="tool-section" style="display: none;">
        <div class="bg-white p-6 rounded-xl shadow-md tool-card">
          <div class="flex items-center mb-4">
            <div class="bg-indigo-100 p-2 rounded-full mr-3">
              <i class="fas fa-file-import text-indigo-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Organise Your PDF. </h2>

          </div>
          <div style="text-align: center; margin-top: -10px; margin-bottom: 20px;">
            <p style="display: inline-block; 
     font-size: 1.1rem; 
     font-weight: 600; 
     color: #374151; 
     position: relative;
     padding: 0 12px;
     margin-top: 5px;
     ">

              Insert, Delete & Reorder PDFs
              <span
                style="position: absolute; bottom: -6px; left: 0; right: 0; height: 3px; background-color: #6366F1; border-radius: 2px;"></span>
            </p>
            <!-- progress for pdf loading -->
            <!-- Progress -->
            <div class="progress" id="progress-insertPdfForm">
              <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
              <div class="progress-text" id="progress-text-insertPdfForm" style="font-size: 17px; font-weight: bolder;">
              </div>
            </div>


          </div>



          <form id="insertPdfForm" class="space-y-4">
            <!-- Main PDF File -->
            <div>
              <label for="insertPdf-main-file" class="block text-sm font-medium text-gray-600 mb-1">
                Select Main PDF File
              </label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-file-pdf mr-2 text-red-500"></i> Choose Main PDF
                  <input type="file" id="insertPdf-main-file" name="main_file" accept=".pdf" required class="hidden"
                    onchange="handleMainPdfSelect()">
                </label>
                <span id="insertPdf-main-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>
              <p id="insertPdf-main-pages" class="text-sm text-gray-600 mt-2">Total Pages: Not loaded</p>
            </div>

            <!-- PDF to Insert -->
            <div>
              <label for="insertPdf-insert-file" class="block text-sm font-medium text-gray-600 mb-1">
                Select PDF to Insert (Optional)
              </label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-file-pdf mr-2 text-blue-500"></i> Choose PDF to Insert
                  <input type="file" id="insertPdf-insert-file" name="insert_file" accept=".pdf" class="hidden">
                </label>
                <span id="insertPdf-insert-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>
              <p id="insertPdf-insert-pages" class="text-sm text-gray-600 mt-2">Total Pages: Not loaded</p>
            </div>

            <!-- Control Buttons -->
            <div class="flex space-x-2 mb-4">
              <button type="button" onclick="toggleSelectAllMainPages()" id="select-all-main-pages-btn"
                class="flex-1 bg-gray-600 text-white p-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center text-sm">
                <i class="fas fa-check-square mr-2"></i> Select All
              </button>

              <button type="button" onclick="deleteSelectedMainPages()"
                class="flex-1 bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center text-sm">
                <i class="fas fa-trash-alt mr-2"></i> Delete Selected
              </button>

              <button type="button" onclick="resetMainPagesOrder()"
                class="flex-1 bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-sm">
                <i class="fas fa-undo mr-2"></i> Reset Order
              </button>
            </div>

            <!-- Insertion Position -->
            <div>
              <label for="insertPdf-position" class="block text-l font-medium text-gray-600 mb-1">
                Select Insertion location
              </label>
              <select id="insertPdf-position" name="position"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                <option value="-1" selected>No Insertion (Only Reorder/Delete)</option>
                <option value="0">At the Beginning</option>
                <!-- Dynamic options will be added here -->
              </select>
              <p class="text-sm text-gray-500 mt-1">Select after which page to insert the PDF</p>
            </div>

            <!-- Page Previews -->
            <div id="insertPdf-previews" class="hidden">
              <h3 class="text-lg font-medium text-gray-700 mb-2">Main PDF Pages (Drag to reorder, click to select)</h3>
              <div class="bg-blue-50 border border-blue-200 rounded-lg mt-0"
                style="padding-top: 1px;padding-bottom: 5px;">
                <p class="text-blue-700 text-m">
                  <i class="mr-1 text-pink-500 text-2xl">üß†</i>

                  ‚úÖ Drag & Drop to reorder / or ‚¨ÜÔ∏è ‚¨áÔ∏è ‚úÖ Click page to select for deletion ‚úÖ Insert page (Optional)

                </p>
              </div>
              <div id="insertPdf-page-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
            </div>

            <!-- Action Buttons -->
            <div class="flex space-x-4">
              <button type="button" onclick="insertPDFClientSide()" id="genpdf"
                class="flex-1 bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
                <i class="fas fa-file-import mr-2"></i> Generate Final PDF
              </button>
            </div>


            <!-- Results -->
            <p id="result-insertPdfForm" class="text-sm text-center"></p>
          </form>
        </div>
      </div>


      <!--  insert page in pdf  -->



      <!-- Remove Background -->
      <div id="removeBackground-section" class="tool-section" style="display: none;">
        <div class="bg-white p-6 rounded-xl shadow-md tool-card">
          <div class="flex items-center mb-4">
            <div class="bg-cyan-100 p-2 rounded-full mr-3">
              <i class="fas fa-eraser text-cyan-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Remove Image Background</h2>
          </div>
          <form id="removeBackgroundForm" class="space-y-4">
            <div>
              <label for="removeBackground-file" class="block text-sm font-medium text-gray-600 mb-1">Select Image
                File</label>
              <div class="flex items-center">
                <label
                  class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg border border-gray-300 transition-colors">
                  <i class="fas fa-image mr-2 text-cyan-500"></i> Choose Image <input type="file"
                    id="removeBackground-file" name="file" accept="image/png,image/jpeg" required class="hidden">
                </label>
                <span id="removeBackground-file-name" class="ml-3 text-sm text-gray-500">No file selected</span>
              </div>
            </div>
            <button type="button" onclick="processImage('remove_background', 'removeBackgroundForm')"
              class="w-full bg-cyan-600 text-white p-3 rounded-lg hover:bg-cyan-700 transition-colors disabled:bg-gray-400 flex items-center justify-center">
              <i class="fas fa-eraser mr-2"></i> Remove Background </button>
            <div class="progress" id="progress-removeBackgroundForm">
              <progress value="0" max="100" class="w-full h-2 rounded-full"></progress>
              <div class="progress-text" id="progress-text-removeBackgroundForm"></div>
            </div>
            <p id="result-removeBackgroundForm" class="text-sm text-center"></p>
          </form>
        </div>
      </div>
      <!-- Amazing Fact Videos -->
      <div id="videos-section" class="tool-section" style="display: none;">
        <div class="bg-white p-6 rounded-xl shadow-md tool-card">
          <div class="flex items-center mb-4">
            <div class="bg-teal-100 p-2 rounded-full mr-3">
              <i class="fas fa-video text-teal-600 text-xl"></i>
            </div>
            <h2 class="text-2xl font-semibold text-gray-800">Amazing Fact Videos</h2>
          </div>
          <button onclick="window.location.href='/static/videos.html'"
            class="w-full bg-teal-600 text-white p-3 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center">
            <i class="fas fa-video mr-2"></i> Click to See Amazing Fact Videos </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-6">
    <div class="container mx-auto px-4 text-center">
      <p> &copy; 2025 <span class="font-semibold">Vishnu Tools</span>. All rights reserved.. </p>
      <p class="mt-2 text-sm">Built with <i class="fas fa-heart text-red-500"></i> for efficient PDF processing and AI
        assistance </p>
    </div>
  </footer>
  <!-- Additional JavaScript for Mobile Menu and File Input Handling -->
  <script>
    // Mobile menu toggle
    function toggleMobileMenu() {
      const mobileMenu = document.getElementById('mobile-menu');
      const menuButton = document.getElementById('mobile-menu-button');
      mobileMenu.classList.toggle('hidden');
      menuButton.querySelector('i').classList.toggle('fa-bars');
      menuButton.querySelector('i').classList.toggle('fa-times');
    }


    function toggleMobileSubmenu() {
      const mobileSubmenu = document.getElementById('mobile-submenu');
      const mobileMenu = document.getElementById('mobile-menu');
      const menuButton = document.getElementById('mobile-menu-button');
      mobileSubmenu.classList.toggle('hidden');

      // If submenu is opened and main menu is visible, revert icon to hamburger
      // if (!mobileSubmenu.classList.contains('hidden') && !mobileMenu.classList.contains('hidden')) {
      //   menuButton.querySelector('i').classList.remove('fa-times');
      //   menuButton.querySelector('i').classList.add('fa-bars');
      // }
    }
    document.getElementById('mobile-menu-button').addEventListener('click', toggleMobileMenu);

    function updatePageOrder(pages) {
      const pageOrder = Array.from(pages).map(page => page.dataset.pageNum);
      document.getElementById('reorder-page-order').value = pageOrder.join(',');
    }

    function updateFileOrder(fileElements) {
      const fileOrder = Array.from(fileElements).map(fileElement => {
        return fileElement.dataset.fileIndex;
      });

      const fileOrderInput = document.getElementById('merge-file-order');
      if (fileOrderInput) {
        fileOrderInput.value = fileOrder.join(',');
        console.log("Updated file order:", fileOrderInput.value);
      }
    }

    function updateButtonStates(pages) {
      pages.forEach((page, index) => {
        const upButton = page.querySelector('.move-up');
        const downButton = page.querySelector('.move-down');
        upButton.disabled = index === 0;
        downButton.disabled = index === pages.length - 1;
      });
    }

    function updateButtonStates(pages) {
      pages.forEach((page, index) => {
        const upButton = page.querySelector('.move-up');
        const downButton = page.querySelector('.move-down');
        upButton.disabled = index === 0;
        downButton.disabled = index === pages.length - 1;
      });
    }
    // Update file input labels with selected file names
    function updateFileLabel(inputId, labelId) {
      const input = document.getElementById(inputId);
      const label = document.getElementById(labelId);
      input.addEventListener('change', () => {
        if (input.files.length > 1) {
          label.textContent = `${input.files.length} files selected`;
        } else if (input.files.length === 1) {
          label.textContent = input.files[0].name;
        } else {
          label.textContent = 'No file selected';
        }
      });
    }
    // Initialize file input listeners
    updateFileLabel('merge-files', 'merge-files-count');
    updateFileLabel('compress-file', 'compress-file-name');
    updateFileLabel('encrypt-file', 'encrypt-file-name');
    updateFileLabel('pdfToImages-file', 'pdfToImages-file-name');
    updateFileLabel('split-file', 'split-file-name');
    updateFileLabel('deletePages-file', 'deletePages-file-name');
    updateFileLabel('pdfToWord-file', 'pdfToWord-file-name');
    updateFileLabel('pdfToExcel-file', 'pdfToExcel-file-name');
    // updateFileLabel('imageToPdf-file', 'imageToPdf-file-name');
    updateFileLabel('removePassword-file', 'removePassword-file-name');
    updateFileLabel('reorder-file', 'reorder-file-name');
    updateFileLabel('pageNumbers-file', 'pageNumbers-file-name');
    updateFileLabel('signature-pdf-file', 'signature-pdf-file-name');
    updateFileLabel('signature-image-file', 'signature-image-file-name');
    updateFileLabel('removeBackground-file', 'removeBackground-file-name');
    updateFileLabel('pdfToPpt-file', 'pdfToPpt-file-name');
    updateFileLabel('removeBackground-file', 'removeBackground-file-name');
    updateFileLabel('compress-file', 'compress-file-name');
    updateFileLabel('multipleImageToPdf-files', 'multipleImageToPdf-files-count');
    // Show chat section by default
    document.getElementById('chat-section').style.display = 'block';
    // Memory Monitoring Code
    // 
    document.getElementById('reorder-file').addEventListener('change', async (e) => {
      const file = e.target.files[0];
      const resultDiv = document.getElementById('result-reorderForm');
      const pagePreviews = document.getElementById('page-previews');
      const pageList = document.getElementById('page-list');
      const progressDiv = document.getElementById('progress-reorderForm');
      const progressText = document.getElementById('progress-text-reorderForm');

      if (!file) {
        pagePreviews.classList.add('hidden');
        resultDiv.textContent = 'No file selected.';
        resultDiv.classList.add('text-red-600');
        return;
      }

      console.log('Processing PDF file:', file.name, file.size, file.type);
      try {
        const [pdfjs] = await pdfLibraryManager.loadLibraries(['pdfjs']);
        // Show progress
        progressDiv.style.display = 'block';
        progressText.textContent = 'Loading PDF... 0%';

        // Show loading spinner
        pagePreviews.classList.remove('hidden');
        pageList.innerHTML = `
            <div class="flex justify-center items-center py-8">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
                <span class="ml-3 text-gray-600">Loading pages...</span>
            </div>
        `;

        const arrayBuffer = await file.arrayBuffer();
        console.log('ArrayBuffer loaded, size:', arrayBuffer.byteLength);

        progressText.textContent = 'Processing PDF structure..';

        const pdf = await pdfjs.getDocument({
          data: arrayBuffer
        }).promise;

        console.log('PDF loaded, pages:', pdf.numPages);
        const numPages = pdf.numPages;
        if (numPages === 0) {
          throw new Error('PDF has no pages.');
        }

        // Clear loading spinner and render pages
        pageList.innerHTML = '';
        const pages = [];

        for (let i = 1; i <= numPages; i++) {
          console.log('Rendering page:', i);

          // Update progress percentage
          const progress = Math.round((i / numPages) * 100);
          progressText.textContent = `Loading page ${i}/${numPages}... ${progress}%`;

          const page = await pdf.getPage(i);
          const viewport = page.getViewport({
            scale: 0.5
          });

          const canvas = document.createElement('canvas');
          canvas.width = viewport.width;
          canvas.height = viewport.height;
          // const context = canvas.getContext('2d');
          const context = canvas.getContext('2d', { willReadFrequently: true });

          await page.render({
            canvasContext: context,
            viewport
          }).promise;

          const pageDiv = document.createElement('div');
          pageDiv.className = 'page-preview border border-gray-200 rounded-lg p-4 bg-white mb-4';
          pageDiv.dataset.pageNum = i;
          pageDiv.innerHTML = `
                <div class="flex flex-col items-center">
                    <canvas class="mb-2 border border-gray-300"></canvas>
                    <div class="flex items-center justify-between w-full mt-2">
                        <span class="text-gray-600 text-sm">Page ${i}</span>
                        <div class="flex space-x-2">
                            <button type="button" class="move-up bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">
                                <i class="fas fa-arrow-up"></i>
                            </button>
                            <button type="button" class="move-down bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">
                                <i class="fas fa-arrow-down"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;

          // Replace the canvas with the rendered one
          const previewCanvas = pageDiv.querySelector('canvas');
          previewCanvas.width = canvas.width;
          previewCanvas.height = canvas.height;
          previewCanvas.getContext('2d').drawImage(canvas, 0, 0);

          pageList.appendChild(pageDiv);
          pages.push(pageDiv);

          // Add event listeners for move buttons
          pageDiv.querySelector('.move-up').addEventListener('click', (event) => {
            event.preventDefault(); // Prevent default behavior
            event.stopPropagation(); // Stop event bubbling
            const prev = pageDiv.previousSibling;
            if (prev) {
              pageList.insertBefore(pageDiv, prev);
              updatePageOrder(Array.from(pageList.querySelectorAll('.page-preview')));
              console.log('Moved page up, new order:', document.getElementById('reorder-page-order').value);
            }
          });

          pageDiv.querySelector('.move-down').addEventListener('click', (event) => {
            event.preventDefault(); // Prevent default behavior
            event.stopPropagation(); // Stop event bubbling
            const next = pageDiv.nextSibling;
            if (next) {
              pageList.insertBefore(next, pageDiv);
              updatePageOrder(Array.from(pageList.querySelectorAll('.page-preview')));
              console.log('Moved page down, new order:', document.getElementById('reorder-page-order').value);
            }
          });

          // Clean up temporary canvas
          canvas.remove();
        }

        // Hide progress when done
        progressDiv.style.display = 'none';
        pagePreviews.classList.remove('hidden');
        updatePageOrder(pages);
        console.log('Initial page order set:', document.getElementById('reorder-page-order').value);
        resultDiv.textContent = `${numPages} pages loaded. Reorder using arrows and click Download.`;
        resultDiv.classList.remove('text-red-600');
        resultDiv.classList.add('text-green-600');

      } catch (err) {
        console.error('Error processing PDF:', err);
        // Hide progress on error
        progressDiv.style.display = 'none';
        pageList.innerHTML = `
            <div class="text-center py-4 text-red-600">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                Error loading PDF: ${err.message}
            </div>
        `;
        resultDiv.textContent = `Error loading PDF: ${err.message}. Please ensure the file is a valid PDF and try again.`;
        resultDiv.classList.add('text-red-600');
        document.getElementById('reorder-page-order').value = '';
      }
    });



    // ////////
    function removeFileFromMerge(fileElement) {
      const fileList = document.getElementById('file-list');
      const fileInput = document.getElementById('merge-files');

      const fileName = fileElement.querySelector('span').textContent.trim();
      console.log(`Removing file: ${fileName}`);

      // Remove the file element from DOM
      fileElement.remove();

      // Get current files
      const currentFiles = Array.from(fileInput.files);

      // Remove the file by filename
      const updatedFiles = currentFiles.filter(file => file.name !== fileName);

      // Update file input using DataTransfer
      const dataTransfer = new DataTransfer();
      updatedFiles.forEach(file => dataTransfer.items.add(file));
      fileInput.files = dataTransfer.files;
      updateButtonStates(fileList.querySelectorAll('.file-item'));

      // Update UI state
      const remainingFiles = fileList.querySelectorAll('.file-item');
      const resultDiv = document.getElementById('result-mergeForm');

      if (remainingFiles.length === 0) {
        document.getElementById('file-previews').classList.add('hidden');
        if (resultDiv) {
          resultDiv.textContent = 'No files selected';
          resultDiv.classList.add('text-red-600');
        }
      } else if (remainingFiles.length < 2) {
        if (resultDiv) {
          resultDiv.textContent = 'Please select at least 2 PDF files.';
          resultDiv.classList.add('text-red-600');
        }
      } else {
        if (resultDiv) {
          resultDiv.textContent = `${remainingFiles.length} files loaded. Reorder using arrows or remove files using cross button.`;
          resultDiv.classList.remove('text-red-600');
          resultDiv.classList.add('text-green-600');
        }
      }

      console.log(`File removal complete. Remaining files:`, Array.from(fileInput.files).map(f => f.name));
    }



    function showCurrentFileOrder() {
      const fileList = document.getElementById('file-list');
      const fileItems = Array.from(fileList.querySelectorAll('.file-item'));

      console.log("üìÇ Current file order:");
      fileItems.forEach((fileItem, index) => {
        const fileName = fileItem.querySelector('span').textContent.trim();
        const dataIndex = fileItem.dataset.fileIndex;
        console.log(`${index + 1}. ${fileName} [data-index: ${dataIndex}]`);
      });
    }


    document.getElementById('merge-files').addEventListener('change', async (e) => {
      const files = e.target.files;
      const resultDiv = document.getElementById('result-mergeForm');
      const filePreviews = document.getElementById('file-previews');
      const fileList = document.getElementById('file-list');

      // Clear any existing files first
      fileList.innerHTML = '';

      if (files.length < 2) {
        filePreviews.classList.add('hidden');
        resultDiv.textContent = 'Please select at least 2 PDF files.';
        resultDiv.classList.add('text-red-600');
        return;
      }

      fileList.innerHTML = '';
      const fileDivs = [];

      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        console.log('Processing file:', file.name, file.size, file.type);

        const fileDiv = document.createElement('div');
        fileDiv.className = 'file-item flex justify-between items-center mb-2 p-3 bg-white border border-gray-200 rounded-lg';
        fileDiv.dataset.fileIndex = i; // Set initial index

        fileDiv.innerHTML = `
            <span class="text-gray-600 flex-1 truncate mr-3">${file.name}</span>
            <div class="flex items-center space-x-2">
                <button type="button" class="move-up bg-blue-600 text-white px-2 py-1 rounded text-sm hover:bg-blue-700 transition-colors ${i === 0 ? 'opacity-50 cursor-not-allowed' : ''}" ${i === 0 ? 'disabled' : ''}>
                    <i class="fas fa-arrow-up"></i>
                </button>
                <button type="button" class="move-down bg-blue-600 text-white px-2 py-1 rounded text-sm hover:bg-blue-700 transition-colors ${i === files.length - 1 ? 'opacity-50 cursor-not-allowed' : ''}" ${i === files.length - 1 ? 'disabled' : ''}>
                    <i class="fas fa-arrow-down"></i>
                </button>
                <button type="button" class="remove-file bg-red-600 text-white px-2 py-1 rounded text-sm hover:bg-red-700 transition-colors">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;

        fileList.appendChild(fileDiv);
        fileDivs.push(fileDiv);

        // In your existing move-up event listener:
        fileDiv.querySelector('.move-up').addEventListener('click', (event) => {
          event.preventDefault();
          event.stopPropagation();
          const prev = fileDiv.previousSibling;
          if (prev) {
            fileList.insertBefore(fileDiv, prev);
            updateButtonStates(fileList.querySelectorAll('.file-item')); // ‚úÖ ADD THIS LINE
          }
        });

        fileDiv.querySelector('.move-down').addEventListener('click', (event) => {
          event.preventDefault();
          event.stopPropagation();
          const next = fileDiv.nextSibling;
          if (next) {
            fileList.insertBefore(next, fileDiv);
            updateButtonStates(fileList.querySelectorAll('.file-item')); // ‚úÖ ADD THIS LINE
          }
        });




        // emove file event listener
        fileDiv.querySelector('.remove-file').addEventListener('click', (event) => {
          event.preventDefault();
          event.stopPropagation();
          removeFileFromMerge(fileDiv);
        });
      }

      filePreviews.classList.remove('hidden');
      updateFileOrder(fileDivs);
      updateButtonStates(fileDivs);
      console.log('Initial file order set:', document.getElementById('merge-file-order').value);
      resultDiv.textContent = `${files.length} files loaded. Reorder using arrows or remove files using cross button.`;
      resultDiv.classList.remove('text-red-600');
      resultDiv.classList.add('text-green-600');
    });
    function updateButtonStates(fileElements) {
      const fileArray = Array.from(fileElements);
      fileArray.forEach((fileElement, index) => {
        const upButton = fileElement.querySelector('.move-up');
        const downButton = fileElement.querySelector('.move-down');

        if (upButton) {
          upButton.disabled = index === 0;
          upButton.classList.toggle('opacity-50', index === 0);
          upButton.classList.toggle('cursor-not-allowed', index === 0);
        }

        if (downButton) {
          downButton.disabled = index === fileArray.length - 1;
          downButton.classList.toggle('opacity-50', index === fileArray.length - 1);
          downButton.classList.toggle('cursor-not-allowed', index === fileArray.length - 1);
        }
      });
    }


    ///////

    updateFileLabel('signature-pdf-file', 'signature-pdf-file-name');
    updateFileLabel('signature-image-file', 'signature-image-file-name');
    // Function to update selected pages in the hidden input
    function updateSelectedPages() {
      const checkboxes = document.querySelectorAll('#signature-page-list input[type="checkbox"]');
      const selectedPages = Array.from(checkboxes).filter(cb => cb.checked).map(cb => cb.dataset.pageNum);
      document.getElementById('signature-selected-pages').value = selectedPages.join(',');
      console.log('Selected pages:', document.getElementById('signature-selected-pages').value);
    }
    // Handle PDF file selection for signature section

    document.getElementById('signature-pdf-file').addEventListener('change', async (e) => {
      const file = e.target.files[0];
      const resultDiv = document.getElementById('result-signatureForm');
      const pagePreviews = document.getElementById('signature-page-previews');
      const pageList = document.getElementById('signature-page-list');
      const selectAllCheckbox = document.getElementById('select-all-pages');
      const removeBgCheckbox = document.getElementById('remove-bg');
      const progressDiv = document.getElementById('progress-signatureForm');
      const progressText = document.getElementById('progress-text-signatureForm');

      console.log("Remove Background Checkbox is checked:", removeBgCheckbox);
      if (!file) {
        pagePreviews.classList.add('hidden');
        resultDiv.textContent = 'No file selected.';
        resultDiv.classList.add('text-red-600');
        return;
      }

      console.log('Processing PDF file:', file.name, file.size, file.type);
      try {

        const [pdfjs] = await pdfLibraryManager.loadLibraries(['pdfjs']);
        // Show progress - ONLY THIS IS ADDED
        if (progressDiv && progressText) {
          progressDiv.style.display = 'block';
          progressText.textContent = 'Loading PDF... 0%';
        }

        // Show loading spinner
        pagePreviews.classList.remove('hidden');
        pageList.innerHTML = `
            <div class="flex justify-center items-center py-8">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"></div>
                <span class="ml-3 text-gray-600">Loading pages...</span>
            </div>
        `;
        const arrayBuffer = await file.arrayBuffer();
        console.log('ArrayBuffer loaded, size:', arrayBuffer.byteLength);

        // Update progress - ONLY THIS IS ADDED
        if (progressText) {
          progressText.textContent = 'Processing PDF structure...';
        }

        const pdf = await pdfjs.getDocument({ data: arrayBuffer }).promise;
        console.log('PDF loaded, pages:', pdf.numPages);
        const numPages = pdf.numPages;
        if (numPages === 0) {
          throw new Error('PDF has no pages.');
        }
        pageList.innerHTML = '';
        const pages = [];
        for (let i = 1; i <= numPages; i++) {
          console.log('Rendering page:', i);

          // Update progress percentage - ONLY THIS IS ADDED
          if (progressText) {
            const progress = Math.round((i / numPages) * 100);
            progressText.textContent = `Loading page ${i}/${numPages}... ${progress}%`;
          }

          const page = await pdf.getPage(i);
          const viewport = page.getViewport({
            scale: 0.5
          });

          const canvas = document.createElement('canvas');
          canvas.width = viewport.width;
          canvas.height = viewport.height;
          // const context = canvas.getContext('2d');
          const context = canvas.getContext('2d', { willReadFrequently: true });

          await page.render({
            canvasContext: context,
            viewport
          }).promise;

          const pageDiv = document.createElement('div');
          pageDiv.className = 'page-preview border border-gray-200 rounded-lg p-4 bg-white';
          pageDiv.dataset.pageNum = i;
          pageDiv.innerHTML = `
                <div class="flex flex-col items-center">
                    <canvas class="mb-2 border border-gray-300"></canvas>
                    <div class="flex items-center mt-2">
                        <input type="checkbox" class="page-checkbox mr-2" data-page-num="${i}">
                        <span class="text-gray-600 text-sm">Page ${i}</span>
                    </div>
                </div>
            `;


          const previewCanvas = pageDiv.querySelector('canvas');
          previewCanvas.width = canvas.width;
          previewCanvas.height = canvas.height;
          previewCanvas.getContext('2d').drawImage(canvas, 0, 0);

          pageList.appendChild(pageDiv);
          pages.push(pageDiv);

          // event listener for checkbox
          pageDiv.querySelector('.page-checkbox').addEventListener('change', () => {
            updateSelectedPages();
            const allChecked = Array.from(document.querySelectorAll('.page-checkbox')).every(cb => cb.checked);
            selectAllCheckbox.checked = allChecked;
          });

          // Clean up temporary canvas
          canvas.remove();
        }
        // Handle select all checkbox
        selectAllCheckbox.addEventListener('change', (e) => {
          const checkboxes = document.querySelectorAll('.page-checkbox');
          checkboxes.forEach(cb => cb.checked = e.target.checked);
          updateSelectedPages();
        });

        // Hide progress when done -
        if (progressDiv) {
          progressDiv.style.display = 'none';
        }

        pagePreviews.classList.remove('hidden');
        updateSelectedPages();
        resultDiv.textContent = `${numPages} pages loaded.See below preview to select pages`;
        resultDiv.classList.remove('text-red-600');
        resultDiv.classList.add('text-green-600');
      } catch (err) {
        console.error('Error processing PDF:', err);
        // Hide progress on error - ONLY THIS IS ADDED
        if (progressDiv) {
          progressDiv.style.display = 'none';
        }
        pageList.innerHTML = `
            <div class="text-center py-4 text-red-600">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                Error loading PDF: ${err.message}
            </div>
        `;
        resultDiv.textContent = `Error loading PDF: ${err.message}. Please ensure the file is a valid PDF and try again.`;
        resultDiv.classList.add('text-red-600');
        document.getElementById('signature-selected-pages').value = '';
      }
    });



    function initializeChatModes() {
      const modeToggle = document.getElementById('mode-toggle');
      const modeSelect = document.getElementById('mode-select');

      if (modeToggle && modeSelect) {
        modeToggle.addEventListener('change', function () {
          modeSelect.disabled = !this.checked;
        });
      }
    }

    document.addEventListener('DOMContentLoaded', initializeChatModes);



    // cleaer chat function

    function clearChatHistory() {
      chatHistory = [];
      document.getElementById('chatOutput').innerHTML = '';
      // Optional: Show confirmation message
      const chatOutput = document.getElementById('chatOutput');
      const clearMsg = document.createElement('div');
      clearMsg.className = 'text-green-600 mb-4 text-center';
      clearMsg.innerHTML = '<p><i class="fas fa-check-circle mr-2"></i>Chat history cleared</p>';
      chatOutput.insertBefore(clearMsg, chatOutput.firstChild);

      // Remove the message after 2 seconds
      setTimeout(() => {
        if (clearMsg.parentNode) {
          clearMsg.parentNode.removeChild(clearMsg);
        }
      }, 2000);
    }


    // ///////
    //  pdf title toggle


    function toggleInfo(infoId) {
      const infoDiv = document.getElementById(infoId);
      if (infoDiv) {
        infoDiv.classList.toggle('hidden');

        // Auto-hide after 5 seconds
        setTimeout(() => {
          if (!infoDiv.classList.contains('hidden')) {
            infoDiv.classList.add('hidden');
          }
        }, 10000);
      }
    }

    // Close info boxes when clicking elsewhere
    document.addEventListener('click', function (event) {
      if (!event.target.closest('button') && !event.target.closest('.fa-info-circle')) {
        document.querySelectorAll('[id^="info"]').forEach(info => {
          info.classList.add('hidden');
        });
      }
    });


  </script>

  <!--  script for real PDF encryption -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/pptxgenjs@3.12.0/dist/pptxgen.bundle.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js" defer></script>
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js" defer></script>
  <script src="https://unpkg.com/downloadjs@1.4.7" defer></script> -->

  <!-- local script -->
  <!-- <script src="/static/js/pdflibra/pptxgen.bundle.js" defer></script>
  <script src="/static/js/pdflibra/jspdf.umd.min.js" defer></script>
  <script src="/static/js/pdflibra/jszip.min.js" defer></script>
  <script src="/static/js/pdflibra/FileSaver.min.js" defer></script>
  <script src="/static/js/pdflibra/pdf-lib.min.js" defer></script>
  <script src="/static/js/pdflibra/pdf.min.js" defer></script>
  <script src="/static/js/pdflibra/pdf.worker.min.js" defer></script>
  <script src="/static/js/pdflibra/download.js" defer></script> -->

  <!-- lazyloading approach -->
  <script src="/static/js/pdf-library-manager.js" defer></script>



</body>

</html>